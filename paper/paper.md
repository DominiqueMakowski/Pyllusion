---
title: "Pyllusion: Creating Visual Illusions in PsychoPy"
authors:
- affiliation: 1
  name: Dominique Makowski
  orcid: 0000-0001-5375-9967
- affiliation: 1
  name: Tam Pham
  orcid: 0000-0002-4287-4801
- affiliation: 1
  name: Zen J. Lau
  orcid: 0000-0002-8895-3206
- affiliation: 2, 3
  name: S.H. Annabel Chen
  orcid: 0000-0002-8895-3206

date: "04 Jan 2021"
output: pdf_document
bibliography: bibliography.bib
csl: apa.csl

tags:
- Pyllusion
- Visual Illusions
- Optical Illusions
- Schizophrenia
- Python
- PsychoPy
affiliations:
- index: 1
  name: School of Social Sciences, Nanyang Technological University, Singapore
- index: 2
  name: Centre for Research and Development in Learning, Nanyang Technological University, Singapore
- index: 3
  name: Lee Kong Chian School of Medicine, Nanyang Technological University, Singapore
---





# Theory

<! -- Paul -->

## Intro \ Abstract

## Overview of usage of VIs in psych 

<!-- Can mention use of VIs in schizophrenics etc -->

## Issues and Statement of need

<!-- No parametric generation of VIs -->




# Pyllusion

## Software stuff

<!-- where to find documentation, CI, link of repo etc. -->
This paper describes *Pyllusion*, a Python module providing a parametric framework for generating visual illusions in computerized neuropsychology and neuroscience experiments. It is designed for specific integration within the *psychopy* [@peirce2007psychopy] package for PsychoPy experiment creation.
*Pyllusion* encompasses several different illusions, including the Delboeuf illusion, Ebbinghaus illusion, Müller-Lyer illusion, Ponzo illusion, Vertical–horizontal illusion, Zöllner illusion, Rod and Frame illusion and Poggendorff illusion.


## Installation

*Pyllusion* is available on PyPI, a repository of software for the Python programming language and can be installed using pip (via '*pip install pyllusion*' command). 


## Parametric Generation


*Pyllusion* encompasses a function-oriented philosophy based on the *psychopy* package. Each function is illusion-specific and hence, uniform function names (in the form `illusiontype_functiongoal()`) are used in the process of creating the illusion.
While the functions can be incorporated within a PsychoPy builder, it can also be used without a GUI - the following example demonstrates the latter in generating a Delboeuf illusion.
Parameters specifying the illusion difficulty and strength are generated using `*_parameters()` before executing the display via `*_psychopy()`. 


<!-- Dom: conceptual idea of pyllusion i.e. to separate idea of illusions as images themselves from their parametric representation --> 
<!-- example, delboeuf parameters, show output of dictionary parameters. pass dict values into another function to generate either image or psychopy object -->


## Output

<!-- pass parameters into an output generator (as images or psychopy objects, psychopy being the most common experimentation software in psychology) -->
<!-- two engines available in pyllusion as of now -->


### Images 

```python

# Load package
import pyllusion as ill

# Create parameters
parameters = ill.delboeuf_parameters(difficulty=2, illusion_strength=1)

# Generate image from parameters
ill.delboeuf_image(parameters)
```


### Psychopy


```python
# Load packages
import pyllusion as ill
from psychopy import visual, event
  
# Create parameters  
parameters = ill.delboeuf_parameters(difficulty=2, illusion_strength=1)
    
# Initiate Window
window = visual.Window(size=[800, 600], fullscr=False,
                       screen=0, winType='pyglet', monitor='testMonitor',
                       allowGUI=False, color="white",
                       blendMode='avg', units='pix')

# Generate psychopy object from parameters
ill.delboeuf_psychopy(window=window, parameters=parameters)
    
# Refresh and close window    
window.flip()
event.waitKeys()  # Press any key to close
window.close()
```

![Delboeuf Illusion generated by Pyllusion using `difficulty=2` and `illusion_strength=1` in `delboeuf_parameters()`](figures/example_delboeuf.PNG)


## Future Plans and Developpments

*Pyllusion*'s source code and issue tracker are available at its GitHub repository (https://github.com/RealityBending/Pyllusion) and the package is licensed under the MIT License.
It aims to be a project for facilitating the running of experiments in PsychoPy and is open for further collaboration in view of improvements in features and bug fixes.
<!--talk more about open science. plan to add more illusions and support to more output engines eg., neuropsydia, opensesame -->




# Acknowledgements

We would like to thank ...

# References




